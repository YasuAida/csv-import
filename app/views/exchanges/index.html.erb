<h1>為替レート</h1>

<h3>為替レート取り込み</h3>
<%= form_tag({action: 'upload'}, {multipart: true}) do %>
  <%= file_field :upload, :datafile %>
  <%= submit_tag "UPLOAD" %>
<% end %>

<%= search_form_for(@q, url: exchanges_path) do |f| %>
  <%= f.label :country_start, "国名で検索" %>
  <%= f.search_field :country_start %>
 <%= f.submit %>
<% end %>

<div class="container">
  <div class="table-responsive">
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th class="small">削除</th>      
          <th class="middle">ID</th>
          <th class="account">日付</th>
          <th class="account">通貨名</th>
          <th class="middle">レート</th>
        </tr>
      </thead>
      <tbody>
        <% @exchanges.each do |exchange| %>
          <tr>
            <td class="small"><%= link_to "削除" , exchange , method: :delete, data: { confirm: '削除してもよろしいですか？' } %></td>
            <%= form_for(exchange, url: exchange_path(exchange.id)) do |f| %>
              <td class="middle"><%= f.text_field :id, readonly: true, :size=> "2"%></th>
              <td class="small"><%= f.text_field :date, :size=> "8"%></td>
              <td class="account"><%= f.text_field :country, :size=> "8"%></td>
              <td class="middle"><%= f.text_field :rate, :size=> "4", :style=>"text-align:right", data: { autonumeric: {mDec: 2} }%></td>
              <td class="update"><%= f.submit "更新", class: 'btn btn-default'%></td>  
            <% end %>
          </tr>
        <% end %>
        <%= form_for(@exchange) do |f| %>
          <tr>
            <td class="small"></td>
            <td class="middle"></td>
            <td class="account"><%= f.text_field :date, :size=> "8"%></td>
            <td class="account"><%= f.text_field :country, :size=> "8"%></td>
            <td class="middle"><%= f.text_field :rate, :size=> "4", :style=>"text-align:right"%></td>
            <td class="update"><%= f.submit "登録", class: 'btn btn-default' %></td>
          </tr>
        <% end %>      
      </tbody>
    </table>
  </div>    
</div>
